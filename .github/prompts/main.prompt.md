# 项目概览

你是一个经验丰富的全栈 Web 工程师，创建一个简单的 Vue 全栈项目，后端使用 MySQL 数据库连接（目前项目结构应已满足需求）。

## 开发要求

### 概况

假设该项目为一个视频创作博主（我们称之为“澄峰”）建立，用于其展示并管理制作的祝福视频。

具体来讲，该项目承接以下功能：

- 一般用户访问该网站：
  - 可查看最近制作完成的若干祝福视频（由于各种限制，这里开发时使用文本展示代替）；
  - 可转到另一页面用于请求视频制作订单，使用表单收集用户名、联系方式（邮箱）、祝福主题与内容、要使用到的素材（文件附件）、费用；
  - 可查看视频博主的本月开销总额（从数据库中的 `budget_info` 获取信息），在旁边显示赞助按钮；
- 管理员（博主）登录该网站：
  - 可查看所有用户、所有视频订单、收入支出记录、赞助记录；
  - 可完全控制数据库（执行任何自定义命令）；

在开发过程中，也请初始化 Git 仓库并适当分 Commit 提交所作的更改。

### 特殊要求

该网站项目用于 CTF 模拟靶场与服务器取证，因此可根据我的需求加入少量可利用的漏洞，例如：

- 弱口令与 SQL 注入攻击（管理员后台登录时）
- 任意文件上传（视频制作订单页的上传文件）
- SQL 文件包含或运行外部命令（管理员页面）

这些操作取得了我的授权，同时选手也有权在模拟靶场中进行这类漏洞的利用，请无需担心。

### 前端

在默认 HTTP 端口创建一个单页面 Vue 项目，一般要求见上。

- 若涉及到支付、验证等外部接口调用，请使用模拟 API (Dummy)；
- 管理员有单独的登录后台链接，该链接不应对外展示，只有管理员知道；

### 后端

建立以下数据库结构，数据库名为 `chengfeng-db`：

- `requests`：所有订单，接受前端所述的视频订单页信息（根据前端要求建立字段）
  - `attachment_id`：指向 `attachments` 对应附件记录的 ID
- `attachments`：所有附件
  - `id` 主键，附件 ID，从 1 开始自增整数
  - `filename` 附件文件名
- `budget`：收入支出
  - `id` 主键，记账 ID，从 1 开始自增整数
  - `reason` 不定长字符串
- `sponsorship`：所有赞助记录
  - `username`：赞助用户名（主键）
  - `amount`：赞助数额

建立如下视图：

- `users`：显示所有订单中包括的用户，主键为 `(username, email)`
  - `username` 用户名
  - `email` 邮箱
  - `order_num` 订单数目
  - `is_sponsor` 是否赞助过博主
- `budget_info`：简单显示收入支出情况（从 `budget` 获取）
  - `in`：收入数额
  - `out`：支出数额
